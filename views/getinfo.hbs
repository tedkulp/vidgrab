<section class="section">
  <div class="container">
    <form method="POST" action="/queue">
      <div class="field is-grouped">
        <div class="control is-expanded">
          <div class="select is-fullwidth">
            <select name="format">
              {{#each formats}}
              <option value={{format_id}}>{{format}} ({{ext}})</option>
              {{/each}}
            </select>
          </div>
        </div>

        <div class="control">
          <button class="button is-primary" id="form-submit" type="submit">Queue Download</button>
        </div>
      </div>
      <input type="hidden" name="url" value="{{url}}" />
      <input type="hidden" name="title" value="{{title}}" />
      <input type="hidden" name="extractor" value="{{extractor}}" />
    </form>
  </div>
</section>

<script>
  function changeButton() {
    var ele = document.getElementById('form-submit');
    if (ele) {
      ele.classList.toggle('is-loading');
    }
  }
</script>